!function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=2)}([function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(5),i=function(){function t(t){this.arr=new Float32Array(16),this.arr[0]=t[0],this.arr[4]=t[1],this.arr[8]=t[2],this.arr[12]=t[3],this.arr[1]=t[4],this.arr[5]=t[5],this.arr[9]=t[6],this.arr[13]=t[7],this.arr[2]=t[8],this.arr[6]=t[9],this.arr[10]=t[10],this.arr[14]=t[11],this.arr[3]=t[12],this.arr[7]=t[13],this.arr[11]=t[14],this.arr[15]=t[15]}return t.prototype.get=function(t){return this.arr[t]},t.prototype.getXY=function(t,r){return this.arr[4*t+r]},t.prototype.getBuffer=function(){return this.arr},t.prototype.set=function(t,r){this.arr[t]=r},t.prototype.setXY=function(t,r,e){this.arr[4*t+r]=e},t.prototype.add=function(t){for(var r=0;r<16;r++)this.set(r,this.get(r)+t.get(r));return this},t.prototype.multiply=function(t){return this},t.prototype.multiplyScalar=function(t){for(var r=0;r<16;r++)this.set(r,this.get(r)*t)},t.prototype.multiplyVector=function(t){for(var r=new n.Vector4(0,0,0,1),e=0;e<3;e++)r.setX(r.getX()+this.getXY(e,0)*t.get(e)),r.setY(r.getY()+this.getXY(e,1)*t.get(e)),r.setZ(r.getZ()+this.getXY(e,2)*t.get(e));return r},t.prototype.transpose=function(){var t=this.get(1);this.set(1,this.get(4)),this.set(4,t),t=this.get(2),this.set(2,this.get(8)),this.set(8,t),t=this.get(3),this.set(3,this.get(12)),this.set(12,t),t=this.get(6),this.set(6,this.get(9)),this.set(9,t),t=this.get(7),this.set(7,this.get(13)),this.set(13,t),t=this.get(11),this.set(11,this.get(14)),this.set(14,t)},t.identity=function(){return new t([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},t.prototype.print=function(){console.log(this.arr[0]+" "+this.arr[4]+" "+this.arr[8]+" "+this.arr[12]),console.log(this.arr[1]+" "+this.arr[5]+" "+this.arr[9]+" "+this.arr[13]),console.log(this.arr[2]+" "+this.arr[6]+" "+this.arr[10]+" "+this.arr[14]),console.log(this.arr[3]+" "+this.arr[7]+" "+this.arr[11]+" "+this.arr[15])},t}();r.Matrix4=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this.arr=new Array(0)}return t.prototype.push=function(t){this.contains(t.getId())||(this.arr=this.arr.concat([t]))},t.prototype.popByIdentifier=function(t){for(var r=0,e=this.arr.length;r<e;r++){var n=this.arr[r];if(0===n.getId().localeCompare(t))return this.removeByIndex(r),n}},t.prototype.popByIndex=function(t){if(t>=this.arr.length)return null;var r=this.arr[t];return this.removeByIndex(t),r},t.prototype.getByIdentifier=function(t){for(var r=0,e=this.arr.length;r<e;r++){var n=this.arr[r];if(0===n.getId().localeCompare(t))return n}return null},t.prototype.getByIndex=function(t){if(!(t>=this.arr.length))return this.arr[t]},t.prototype.removeByIdentifier=function(t){for(var r=0,e=this.arr.length;r<e;r++){if(0===this.arr[r].getId().localeCompare(t))return void this.arr.splice(r,1)}},t.prototype.removeByIndex=function(t){t>=this.arr.length||this.arr.splice(t,1)},t.prototype.length=function(){return this.arr.length},t.prototype.forEach=function(t){for(var r=0,e=this.arr.length;r<e;r++)t(this.arr[r],r)},t.prototype.contains=function(t){for(var r=0,e=this.arr.length;r<e;r++){if(0===this.arr[r].getId().localeCompare(t))return!0}return!1},t}();r.List=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(3),i=e(4),o=e(6),s=e(7),a=e(9),u=e(10),c=e(11).default,f=e(12).default,h=document.getElementById("canvas").getContext("webgl2"),p=n.GLHelper.createShader(h,h.VERTEX_SHADER,c),l=n.GLHelper.createShader(h,h.FRAGMENT_SHADER,f),g=n.GLHelper.createProgram(h,p,l),d=a.Geometry.fromDesc(o.GeometryFactory.Cube()),y=new s.Object3D(d);y.setShaders(p,l),y.setProgram(g);var m=i.GLMatrix.Perspective(45*Math.PI/180,h.canvas.clientWidth/h.canvas.clientHeight,.1,500),v=new u.Scene(h);v.setMatrix(m),v.addObject(y),requestAnimationFrame(function t(){v.draw(),requestAnimationFrame(t)})},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.createShader=function(t,r,e){var n=t.createShader(r);if(t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))return n;console.log(t.getShaderInfoLog(n)),t.deleteShader(n)},t.createProgram=function(t,r,e){var n=t.createProgram();if(t.attachShader(n,r),t.attachShader(n,e),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS))return n;console.log(t.getProgramInfoLog(n)),t.deleteProgram(n)},t}();r.GLHelper=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(0),i=function(){function t(){}return t.Perspective=function(t,r,e,i){var o=e,s=i,a=o*Math.tan(Math.PI/180*.5*t),u=2*a,c=r*u,f=-.5*c,h=f+c,p=a-u,l=[2*o/(h-f),0,0,0,0,2*o/(a-p),0,0,(h+f)/(h-f),(a+p)/(a-p),-(s+o)/(s-o),-1,0,0,-2*s*o/(s-o),0];return new n.Matrix4(l)},t.Camera=function(){},t}();r.GLMatrix=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,r,e,n){this.NUM_OF_ELEMENTS=4,this.arr=new Float32Array(4),this.arr[0]=t,this.arr[1]=r,this.arr[2]=e,this.arr[3]=n}return t.prototype.getX=function(){return this.arr[0]},t.prototype.getY=function(){return this.arr[1]},t.prototype.getZ=function(){return this.arr[2]},t.prototype.getW=function(){return this.arr[3]},t.prototype.get=function(t){return this.arr[t]},t.prototype.getBuffer=function(){return this.arr},t.prototype.setX=function(t){this.arr[0]=t},t.prototype.setY=function(t){this.arr[1]=t},t.prototype.setZ=function(t){this.arr[2]=t},t.prototype.setW=function(t){this.arr[3]=t},t.prototype.toArray=function(){return[this.arr[0],this.arr[1],this.arr[2],this.arr[3]]},t.prototype.add=function(t){this.arr[0]+=t.getX(),this.arr[1]+=t.getY(),this.arr[2]+=t.getZ()},t.prototype.multiplyScalar=function(t){this.arr[0]*=t,this.arr[1]*=t,this.arr[2]*=t},t.prototype.normalize=function(){for(var t=0,r=0;r<3;r++)t+=Math.pow(this.get(r),2);t=Math.sqrt(t),this.multiplyScalar(1/t)},t}();r.Vector4=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.Plane=function(){return{vertices:new Float32Array([-.5,-.5,.5,1,.5,-.5,.5,1,.5,.5,.5,1,-.5,.5,.5,1]),normales:new Float32Array([0,0,-1,1,0,0,-1,1,0,0,-1,1,0,0,-1,1]),indices:new Uint16Array([0,1,2,0,2,3])}},t.Cube=function(){return{vertices:new Float32Array([-.5,-.5,.5,1,.5,-.5,.5,1,.5,.5,.5,1,-.5,.5,.5,1,-.5,-.5,-.5,1,-.5,.5,-.5,1,.5,.5,-.5,1,.5,-.5,-.5,1,-.5,.5,-.5,1,-.5,.5,.5,1,.5,.5,.5,1,.5,.5,-.5,1,-.5,-.5,-.5,1,.5,-.5,-.5,1,.5,-.5,.5,1,-.5,-.5,.5,1,.5,-.5,-.5,1,.5,.5,-.5,1,.5,.5,.5,1,.5,-.5,.5,1,-.5,-.5,-.5,1,-.5,-.5,.5,1,-.5,.5,.5,1,-.5,.5,-.5,1]),normales:new Float32Array([0,0,-1,1,0,0,-1,1,0,0,-1,1,0,0,-1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,-1,0,1,0,-1,0,1,0,-1,0,1,0,-1,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1,-1,0,0,1]),indices:new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23])}},t}();r.GeometryFactory=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(0),i=e(8),o=e(1),s=function(){function t(t){this.id=i.UUID.create(),this.geometry=t,this.matrix=n.Matrix4.identity(),this.children=new o.List,this.parent=null,this.vertexShader=null,this.fragmentShader=null,this.program=null,this.attributeLocations=new Array,this.uniformLocations=new Array}return t.prototype.getId=function(){return this.id},t.prototype.getGeometry=function(){return this.geometry},t.prototype.setGeometry=function(t){this.geometry=t},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(t){this.matrix=t},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getChildren=function(){return this.children},t.prototype.addChild=function(t){this.children.push(t)},t.prototype.removeChild=function(t){this.children.removeByIdentifier(t)},t.prototype.getShaders=function(){return{vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}},t.prototype.setShaders=function(t,r){this.vertexShader=t,this.fragmentShader=r},t.prototype.getProgram=function(){return this.program},t.prototype.setProgram=function(t){this.program=t},t.prototype.getAttributeLocations=function(){return this.attributeLocations},t.prototype.getUniformLocations=function(){return this.uniformLocations},t.prototype.setup=function(t){this.attributeLocations.push(t.getAttribLocation(this.program,"vertex")),this.uniformLocations.push(t.getUniformLocation(this.program,"u_perspective")),this.uniformLocations.push(t.getUniformLocation(this.program,"u_modelview")),this.uniformLocations.push(t.getUniformLocation(this.program,"u_color")),this.geometry.createBuffers(t),this.children.forEach(function(r,e){r.setup(t)})},t}();r.Object3D=s},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.create=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();r.UUID=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this.vertices=new Float32Array(0),this.colors=new Uint8Array(0),this.normales=new Float32Array(0),this.indices=new Uint16Array(0),this.buffers={vertexBuffer:null,colorBuffer:null,indexBuffer:null},this.buffersCreated=!1,this.elementCount=0}return t.prototype.getVertices=function(){return this.vertices},t.prototype.getNormales=function(){return this.normales},t.prototype.getIndices=function(){return this.indices},t.prototype.getBuffers=function(){return this.buffers},t.prototype.setVertices=function(t){this.vertices=t},t.prototype.setNormales=function(t){this.normales=t},t.prototype.setIndices=function(t){this.indices=t},t.prototype.setBuffers=function(t){this.buffers=t},t.prototype.getElementCount=function(){return this.elementCount},t.prototype.createBuffers=function(t){this.buffersCreated||(0!==this.vertices.length&&(this.buffers.vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.STATIC_DRAW),this.elementCount=this.vertices.length),0!==this.indices.length&&(this.buffers.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffers.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.elementCount=this.indices.length),this.buffersCreated=!0)},t.fromDesc=function(r){var e=new t;return e.setVertices(r.vertices),e.setNormales(r.normales),r.indices&&e.setIndices(r.indices),e},t}();r.Geometry=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(1),i=e(0),o=function(){function t(t){this.gl=t,this.objects=new n.List,this.matrix=i.Matrix4.identity()}return t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(t){this.matrix=t},t.prototype.getObjects=function(){return this.objects},t.prototype.getObject=function(t){return this.objects.getByIdentifier(t)},t.prototype.addObject=function(t){this.objects.push(t)},t.prototype.draw=function(){var t=this;this.objects.forEach(function(r,e){var n=t.gl,i=r.getGeometry();i.createBuffers(n);var o=i.getBuffers(),s=i.getElementCount(),a=r.getAttributeLocations(),u=r.getUniformLocations();n.useProgram(r.getProgram()),n.bindBuffer(n.ARRAY_BUFFER,o.vertexBuffer),n.vertexAttribPointer(a[0],4,n.FLOAT,!1,0,0),n.enableVertexAttribArray(a[0]),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,o.indexBuffer),n.uniformMatrix4fv(u[0],!1,t.getMatrix().getBuffer()),n.uniformMatrix4fv(u[1],!1,r.getMatrix().getBuffer()),n.uniform4fv(u[2],new Float32Array([1,0,0,1])),n.drawElements(n.TRIANGLES,s,n.UNSIGNED_SHORT,0)})},t}();r.Scene=o},function(t,r,e){"use strict";e.r(r),r.default="#version 300 es\r\n\r\nin vec4 vertex;\r\nuniform mat4 u_perspective;\r\nuniform mat4 u_modelview;\r\n\r\nvoid main() {\r\n    gl_Position = u_perspective * u_modelview * vertex;\r\n}"},function(t,r,e){"use strict";e.r(r),r.default="#version 300 es\r\n\r\nprecision mediump float;\r\n\r\nuniform vec4 u_color;\r\nout vec4 outColor;\r\n\r\nvoid main(){\r\n    outColor = u_color;\r\n}"}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hdGgvTWF0cml4NC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGF0YS9MaXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9HTC9HTEhlbHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvR0wvR0xNYXRyaXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hdGgvVmVjdG9yNC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29yZS9NaXNjL0dlb21ldHJ5RmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29yZS9PYmplY3QzRC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGF0YS9VVUlELnRzIiwid2VicGFjazovLy8uL3NyYy9Db3JlL0dlb21ldHJ5LnRzIiwid2VicGFjazovLy8uL3NyYy9Db3JlL1NjZW5lLnRzIiwid2VicGFjazovLy8uL3NyYy9TaGFkZXIvdmVydGV4Lmdsc2wiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NoYWRlci9mcmFnbWVudC5nbHNsIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVmVjdG9yNF8xIiwiTWF0cml4NCIsImFyciIsInRoaXMiLCJGbG9hdDMyQXJyYXkiLCJnZXRYWSIsIngiLCJ5IiwiZ2V0QnVmZmVyIiwic2V0IiwidiIsInNldFhZIiwiYWRkIiwibXVsdGlwbHkiLCJtdWx0aXBseVNjYWxhciIsIm11bHRpcGx5VmVjdG9yIiwidmVjIiwiVmVjdG9yNCIsInNldFgiLCJnZXRYIiwic2V0WSIsImdldFkiLCJzZXRaIiwiZ2V0WiIsInRyYW5zcG9zZSIsInRtcCIsImlkZW50aXR5IiwicHJpbnQiLCJjb25zb2xlIiwibG9nIiwiTGlzdCIsIkFycmF5IiwicHVzaCIsIml0ZW0iLCJjb250YWlucyIsImdldElkIiwiY29uY2F0IiwicG9wQnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsImxlbmd0aCIsImN1ciIsImxvY2FsZUNvbXBhcmUiLCJyZW1vdmVCeUluZGV4IiwicG9wQnlJbmRleCIsImluZGV4IiwiZ2V0QnlJZGVudGlmaWVyIiwiZ2V0QnlJbmRleCIsInJlbW92ZUJ5SWRlbnRpZmllciIsInNwbGljZSIsImZvckVhY2giLCJmdW5jIiwiR0xIZWxwZXJfMSIsIkdMTWF0cml4XzEiLCJHZW9tZXRyeUZhY3RvcnlfMSIsIk9iamVjdDNEXzEiLCJHZW9tZXRyeV8xIiwiU2NlbmVfMSIsInZlcnRleFNoYWRlclNvdXJjZSIsImRlZmF1bHQiLCJmcmFnbWVudFNoYWRlclNvdXJjZSIsImdsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJ2ZXJ0ZXhTaGFkZXIiLCJHTEhlbHBlciIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsInByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwiZ2VvbWV0cnkiLCJHZW9tZXRyeSIsImZyb21EZXNjIiwiR2VvbWV0cnlGYWN0b3J5IiwiQ3ViZSIsIm9iaiIsIk9iamVjdDNEIiwic2V0U2hhZGVycyIsInNldFByb2dyYW0iLCJwZXJzcGVjdGl2ZU1hdHJpeCIsIkdMTWF0cml4IiwiUGVyc3BlY3RpdmUiLCJNYXRoIiwiUEkiLCJjYW52YXMiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInNjZW5lIiwiU2NlbmUiLCJzZXRNYXRyaXgiLCJhZGRPYmplY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJkcmF3IiwidHlwZSIsInNvdXJjZSIsInNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsIk1hdHJpeDRfMSIsImZvdiIsImFzcGVjdCIsImYiLCJuZWFyIiwiZmFyIiwidG9wIiwidGFuIiwiaGVpZ2h0Iiwid2lkdGgiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJDYW1lcmEiLCJ6IiwidyIsIk5VTV9PRl9FTEVNRU5UUyIsImdldFciLCJzZXRXIiwidG9BcnJheSIsIm5vcm1hbGl6ZSIsInBvdyIsInNxcnQiLCJQbGFuZSIsInZlcnRpY2VzIiwibm9ybWFsZXMiLCJpbmRpY2VzIiwiVWludDE2QXJyYXkiLCJVVUlEXzEiLCJMaXN0XzEiLCJnIiwiaWQiLCJVVUlEIiwibWF0cml4IiwiY2hpbGRyZW4iLCJwYXJlbnQiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJ1bmlmb3JtTG9jYXRpb25zIiwiZ2V0R2VvbWV0cnkiLCJzZXRHZW9tZXRyeSIsImdlbyIsImdldE1hdHJpeCIsImdldFBhcmVudCIsInNldFBhcmVudCIsImdldENoaWxkcmVuIiwiYWRkQ2hpbGQiLCJjaGlsZCIsInJlbW92ZUNoaWxkIiwiZ2V0U2hhZGVycyIsImdldFByb2dyYW0iLCJnZXRBdHRyaWJ1dGVMb2NhdGlvbnMiLCJnZXRVbmlmb3JtTG9jYXRpb25zIiwic2V0dXAiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImNyZWF0ZUJ1ZmZlcnMiLCJzNCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJjb2xvcnMiLCJVaW50OEFycmF5IiwiYnVmZmVycyIsInZlcnRleEJ1ZmZlciIsImNvbG9yQnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJidWZmZXJzQ3JlYXRlZCIsImVsZW1lbnRDb3VudCIsImdldFZlcnRpY2VzIiwiZ2V0Tm9ybWFsZXMiLCJnZXRJbmRpY2VzIiwiZ2V0QnVmZmVycyIsInNldFZlcnRpY2VzIiwic2V0Tm9ybWFsZXMiLCJzZXRJbmRpY2VzIiwic2V0QnVmZmVycyIsImdldEVsZW1lbnRDb3VudCIsImNyZWF0ZUJ1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIm9iamVjdHMiLCJnZXRPYmplY3RzIiwiZ2V0T2JqZWN0IiwiX3RoaXMiLCJ1c2VQcm9ncmFtIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ1bmlmb3JtTWF0cml4NGZ2IiwidW5pZm9ybTRmdiIsImRyYXdFbGVtZW50cyIsIlRSSUFOR0xFUyIsIlVOU0lHTkVEX1NIT1JUIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNB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QUc1QnRHLEVBQUcySSxXQUFZdEssRUFBSytILGNBR3BCcEcsRUFBR2tJLFdBQVlsSSxFQUFHbUksYUFBY2pCLEVBQVFDLGNBQ3hDbkgsRUFBRzRJLG9CQUNDckQsRUFBb0IsR0FDcEIsRUFDQXZGLEVBQUc2SSxPQUNILEVBQ0EsRUFDQSxHQUVKN0ksRUFBRzhJLHdCQUF5QnZELEVBQW9CLElBTWhEdkYsRUFBR2tJLFdBQVlsSSxFQUFHc0kscUJBQXNCcEIsRUFBUUcsYUFJaERySCxFQUFHK0ksaUJBQ0N2RCxFQUFrQixJQUNsQixFQUNBa0QsRUFBSzlDLFlBQVloSixhQUdyQm9ELEVBQUcrSSxpQkFDQ3ZELEVBQWtCLElBQ2xCLEVBQ0FuSCxFQUFLdUgsWUFBWWhKLGFBR3JCb0QsRUFBR2dKLFdBQ0N4RCxFQUFrQixHQUNsQixJQUFJaEosYUFBYSxDQUFFLEVBQUksRUFBSSxFQUFJLEtBSW5Dd0QsRUFBR2lKLGFBQ0NqSixFQUFHa0osVUFDSDNCLEVBQ0F2SCxFQUFHbUosZUFDSCxNQUloQnJILEVBcEdBLEdBQWE1SCxFQUFBNEgsc0NDSmI5SCxFQUFBa0IsRUFBQWtPLEdBQWVBLEVBQUEsZ09DQWZwUCxFQUFBa0IsRUFBQWtPLEdBQWVBLEVBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiaW1wb3J0IHsgVmVjdG9yNCB9IGZyb20gJy4vVmVjdG9yNCc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWF0cml4NCB7XHJcblxyXG4gICAgcHJpdmF0ZSBhcnI6IEZsb2F0MzJBcnJheTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggYXJyOiBBcnJheTxudW1iZXI+ICl7XHJcbiAgICAgICAgdGhpcy5hcnIgPSBuZXcgRmxvYXQzMkFycmF5KCAxNiApO1xyXG4gICAgICAgIHRoaXMuYXJyWyAwIF0gPSBhcnJbIDAgXTtcclxuICAgICAgICB0aGlzLmFyclsgNCBdID0gYXJyWyAxIF07XHJcbiAgICAgICAgdGhpcy5hcnJbIDggXSA9IGFyclsgMiBdO1xyXG4gICAgICAgIHRoaXMuYXJyWyAxMiBdID0gYXJyWyAzIF07XHJcbiAgICAgICAgdGhpcy5hcnJbIDEgXSA9IGFyclsgNCBdO1xyXG4gICAgICAgIHRoaXMuYXJyWyA1IF0gPSBhcnJbIDUgXTtcclxuICAgICAgICB0aGlzLmFyclsgOSBdID0gYXJyWyA2IF07XHJcbiAgICAgICAgdGhpcy5hcnJbIDEzIF0gPSBhcnJbIDcgXTtcclxuICAgICAgICB0aGlzLmFyclsgMiBdID0gYXJyWyA4IF07XHJcbiAgICAgICAgdGhpcy5hcnJbIDYgXSA9IGFyclsgOSBdO1xyXG4gICAgICAgIHRoaXMuYXJyWyAxMCBdID0gYXJyWyAxMCBdO1xyXG4gICAgICAgIHRoaXMuYXJyWyAxNCBdID0gYXJyWyAxMSBdO1xyXG4gICAgICAgIHRoaXMuYXJyWyAzIF0gPSBhcnJbIDEyIF07XHJcbiAgICAgICAgdGhpcy5hcnJbIDcgXSA9IGFyclsgMTMgXTtcclxuICAgICAgICB0aGlzLmFyclsgMTEgXSA9IGFyclsgMTQgXTtcclxuICAgICAgICB0aGlzLmFyclsgMTUgXSA9IGFyclsgMTUgXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXR0ZXJcclxuICAgIHB1YmxpYyBnZXQoIGk6IG51bWJlciApOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFyclsgaSBdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRYWSggeDogbnVtYmVyLCB5OiBudW1iZXIgKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJbIHggKiA0ICsgeSBdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRCdWZmZXIoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0dGVyXHJcbiAgICBwdWJsaWMgc2V0KCBpOiBudW1iZXIsIHY6IG51bWJlciApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFyclsgaSBdID0gdjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0WFkoIHg6IG51bWJlciwgeTogbnVtYmVyLCB2OiBudW1iZXIgKXtcclxuICAgICAgICB0aGlzLmFyclsgeCAqIDQgKyB5IF0gPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hdGhcclxuICAgIHB1YmxpYyBhZGQoIG06IE1hdHJpeDQgKTogTWF0cml4NCB7XHJcbiAgICAgICAgZm9yKCBsZXQgaSA9IDAgOyBpIDwgMTYgOyBpKysgKVxyXG4gICAgICAgICAgICB0aGlzLnNldCggaSwgdGhpcy5nZXQoIGkgKSArIG0uZ2V0KCBpICkgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG11bHRpcGx5KCBtOiBNYXRyaXg0ICk6IE1hdHJpeDQge1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbXVsdGlwbHlTY2FsYXIoIHM6IG51bWJlciApe1xyXG4gICAgICAgIGZvciggbGV0IGkgPSAwIDsgaSA8IDE2IDsgaSsrIClcclxuICAgICAgICAgICAgdGhpcy5zZXQoIGksIHRoaXMuZ2V0KCBpICkgKiBzICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG11bHRpcGx5VmVjdG9yKCB2OiBWZWN0b3I0ICk6IFZlY3RvcjQge1xyXG4gICAgICAgIGxldCB2ZWMgPSBuZXcgVmVjdG9yNCggMCwwLDAsMSApO1xyXG5cclxuICAgICAgICBmb3IoIGxldCBpID0gMCA7IGkgPCAzIDsgaSsrICl7XHJcbiAgICAgICAgICAgIHZlYy5zZXRYKCB2ZWMuZ2V0WCgpICsgdGhpcy5nZXRYWSggaSwgMCApICogdi5nZXQoIGkgKSApO1xyXG4gICAgICAgICAgICB2ZWMuc2V0WSggdmVjLmdldFkoKSArIHRoaXMuZ2V0WFkoIGksIDEgKSAqIHYuZ2V0KCBpICkgKTtcclxuICAgICAgICAgICAgdmVjLnNldFooIHZlYy5nZXRaKCkgKyB0aGlzLmdldFhZKCBpLCAyICkgKiB2LmdldCggaSApICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmVjO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0cmFuc3Bvc2UoKXtcclxuICAgICAgICBsZXQgdG1wID0gdGhpcy5nZXQoIDEgKTtcclxuICAgICAgICB0aGlzLnNldCggMSwgdGhpcy5nZXQoIDQgKSApO1xyXG4gICAgICAgIHRoaXMuc2V0KCA0LCB0bXAgKTtcclxuICAgICAgICB0bXAgPSB0aGlzLmdldCggMiApO1xyXG4gICAgICAgIHRoaXMuc2V0KCAyLCB0aGlzLmdldCggOCApICk7XHJcbiAgICAgICAgdGhpcy5zZXQoIDgsIHRtcCApO1xyXG4gICAgICAgIHRtcCA9IHRoaXMuZ2V0KCAzICk7XHJcbiAgICAgICAgdGhpcy5zZXQoIDMsIHRoaXMuZ2V0KCAxMiApICk7XHJcbiAgICAgICAgdGhpcy5zZXQoIDEyLCB0bXAgKTtcclxuICAgICAgICB0bXAgPSB0aGlzLmdldCggNiApO1xyXG4gICAgICAgIHRoaXMuc2V0KCA2LCB0aGlzLmdldCggOSApICk7XHJcbiAgICAgICAgdGhpcy5zZXQoIDksIHRtcCApO1xyXG4gICAgICAgIHRtcCA9IHRoaXMuZ2V0KCA3ICk7XHJcbiAgICAgICAgdGhpcy5zZXQoIDcsIHRoaXMuZ2V0KCAxMyApICk7XHJcbiAgICAgICAgdGhpcy5zZXQoIDEzLCB0bXAgKTtcclxuICAgICAgICB0bXAgPSB0aGlzLmdldCggMTEgKTtcclxuICAgICAgICB0aGlzLnNldCggMTEsIHRoaXMuZ2V0KCAxNCApICk7XHJcbiAgICAgICAgdGhpcy5zZXQoIDE0LCB0bXAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVHlwZXNcclxuICAgIHB1YmxpYyBzdGF0aWMgaWRlbnRpdHkoKXtcclxuICAgICAgICBsZXQgYXJyID0gW1xyXG4gICAgICAgICAgICAxLCAwLCAwLCAwLFxyXG4gICAgICAgICAgICAwLCAxLCAwLCAwLFxyXG4gICAgICAgICAgICAwLCAwLCAxLCAwLFxyXG4gICAgICAgICAgICAwLCAwLCAwLCAxXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXg0KCBhcnIgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZWJ1Z1xyXG4gICAgcHVibGljIHByaW50KCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coIHRoaXMuYXJyWyAwIF0gKyAnICcgKyB0aGlzLmFyclsgNCBdICsgJyAnICsgdGhpcy5hcnJbIDggXSArICcgJyArIHRoaXMuYXJyWyAxMiBdICk7XHJcbiAgICAgICAgY29uc29sZS5sb2coIHRoaXMuYXJyWyAxIF0gKyAnICcgKyB0aGlzLmFyclsgNSBdICsgJyAnICsgdGhpcy5hcnJbIDkgXSArICcgJyArIHRoaXMuYXJyWyAxMyBdICk7XHJcbiAgICAgICAgY29uc29sZS5sb2coIHRoaXMuYXJyWyAyIF0gKyAnICcgKyB0aGlzLmFyclsgNiBdICsgJyAnICsgdGhpcy5hcnJbIDEwIF0gKyAnICcgKyB0aGlzLmFyclsgMTQgXSApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCB0aGlzLmFyclsgMyBdICsgJyAnICsgdGhpcy5hcnJbIDcgXSArICcgJyArIHRoaXMuYXJyWyAxMSBdICsgJyAnICsgdGhpcy5hcnJbIDE1IF0gKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExpc3RJdGVtIH0gZnJvbSBcIi4uL0ludGVyZmFjZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0PFQgZXh0ZW5kcyBMaXN0SXRlbT4ge1xyXG5cclxuICAgIHByaXZhdGUgYXJyOiBBcnJheTxUPjtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmFyciA9IG5ldyBBcnJheTxUPiggMCApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwdXNoKCBpdGVtOiBUICl7XHJcbiAgICAgICAgaWYoIHRoaXMuY29udGFpbnMoIGl0ZW0uZ2V0SWQoKSApIClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYXJyID0gdGhpcy5hcnIuY29uY2F0KFsgaXRlbSBdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9wQnlJZGVudGlmaWVyKCBpZGVudGlmaWVyOiBzdHJpbmcgKXtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgbGV0IGwgPSB0aGlzLmFyci5sZW5ndGg7XHJcbiAgICAgICAgZm9yKCA7IGkgPCBsIDsgaSsrICl7XHJcbiAgICAgICAgICAgIGxldCBjdXIgPSB0aGlzLmFyclsgaSBdO1xyXG4gICAgICAgICAgICBpZiggY3VyLmdldElkKCkubG9jYWxlQ29tcGFyZSggaWRlbnRpZmllciApID09PSAwICl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJ5SW5kZXgoIGkgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvcEJ5SW5kZXgoIGluZGV4OiBudW1iZXIgKXtcclxuICAgICAgICBpZiggaW5kZXggPj0gdGhpcy5hcnIubGVuZ3RoIClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IGN1ciA9IHRoaXMuYXJyWyBpbmRleCBdO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQnlJbmRleCggaW5kZXggKTtcclxuICAgICAgICByZXR1cm4gY3VyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRCeUlkZW50aWZpZXIoIGlkZW50aWZpZXI6IHN0cmluZyApe1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBsZXQgbCA9IHRoaXMuYXJyLmxlbmd0aDtcclxuICAgICAgICBmb3IoIDsgaSA8IGwgOyBpKysgKXtcclxuICAgICAgICAgICAgbGV0IGN1ciA9IHRoaXMuYXJyWyBpIF07XHJcbiAgICAgICAgICAgIGlmKCBjdXIuZ2V0SWQoKS5sb2NhbGVDb21wYXJlKCBpZGVudGlmaWVyICkgPT09IDAgKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJ5SW5kZXgoIGluZGV4OiBudW1iZXIgKXtcclxuICAgICAgICBpZiggaW5kZXggPj0gdGhpcy5hcnIubGVuZ3RoIClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFyclsgaW5kZXggXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQnlJZGVudGlmaWVyKCBpZGVudGlmaWVyOiBzdHJpbmcgKXtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgbGV0IGwgPSB0aGlzLmFyci5sZW5ndGg7XHJcbiAgICAgICAgZm9yKCA7IGkgPCBsIDsgaSsrICl7XHJcbiAgICAgICAgICAgIGxldCBjdXIgPSB0aGlzLmFyclsgaSBdO1xyXG4gICAgICAgICAgICBpZiggY3VyLmdldElkKCkubG9jYWxlQ29tcGFyZSggaWRlbnRpZmllciApID09PSAwICl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFyci5zcGxpY2UoIGksIDEgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQnlJbmRleCggaW5kZXg6IG51bWJlciApe1xyXG4gICAgICAgIGlmKCBpbmRleCA+PSB0aGlzLmFyci5sZW5ndGggKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5hcnIuc3BsaWNlKCBpbmRleCwgMSApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsZW5ndGgoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnIubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmb3JFYWNoKCBmdW5jOiAoIGl0ZW06IFQsIGluZGV4OiBudW1iZXIgKSA9PiB2b2lkICl7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCBsID0gdGhpcy5hcnIubGVuZ3RoO1xyXG4gICAgICAgIGZvciggOyBpIDwgbCA7IGkrKyApe1xyXG4gICAgICAgICAgICBmdW5jKCB0aGlzLmFyclsgaSBdLCBpICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29udGFpbnMoIGlkZW50aWZpZXI6IHN0cmluZyApe1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBsZXQgbCA9IHRoaXMuYXJyLmxlbmd0aDtcclxuICAgICAgICBmb3IoIDsgaSA8IGwgOyBpKysgKXtcclxuICAgICAgICAgICAgbGV0IGN1ciA9IHRoaXMuYXJyWyBpIF07XHJcbiAgICAgICAgICAgIGlmKCBjdXIuZ2V0SWQoKS5sb2NhbGVDb21wYXJlKCBpZGVudGlmaWVyICkgPT09IDAgKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdMSGVscGVyIH0gZnJvbSAnLi9HTC9HTEhlbHBlcic7XHJcbmltcG9ydCB7IEdMTWF0cml4IH0gZnJvbSAnLi9HTC9HTE1hdHJpeCc7XHJcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tICcuL01hdGgvTWF0cml4NCc7XHJcbmltcG9ydCB7IEdlb21ldHJ5RmFjdG9yeSB9IGZyb20gJy4vQ29yZS9NaXNjL0dlb21ldHJ5RmFjdG9yeSc7XHJcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICdodHRwJztcclxuaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuL0NvcmUvUmVuZGVyZXInO1xyXG5pbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gJy4vQ29yZS9PYmplY3QzRCc7XHJcbmltcG9ydCB7IEdlb21ldHJ5IH0gZnJvbSAnLi9Db3JlL0dlb21ldHJ5JztcclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tICcuL0NvcmUvU2NlbmUnO1xyXG5cclxuLy8gU2hhZGVyc1xyXG5sZXQgdmVydGV4U2hhZGVyU291cmNlID0gcmVxdWlyZSggJy4vU2hhZGVyL3ZlcnRleC5nbHNsJyApLmRlZmF1bHQ7XHJcbmxldCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IHJlcXVpcmUoICcuL1NoYWRlci9mcmFnbWVudC5nbHNsJyApLmRlZmF1bHQ7XHJcblxyXG52YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdjYW52YXMnICkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbnZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCAnd2ViZ2wyJyApIGFzIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XHJcblxyXG4vLyBDb21waWxlIHNoYWRlcnMgYW5kIGxpbmsgdG8gcHJvZ3JhbVxyXG5sZXQgdmVydGV4U2hhZGVyID0gR0xIZWxwZXIuY3JlYXRlU2hhZGVyKCBnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlICkgYXMgV2ViR0xTaGFkZXI7XHJcbmxldCBmcmFnbWVudFNoYWRlciA9IEdMSGVscGVyLmNyZWF0ZVNoYWRlciggZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UgKSBhcyBXZWJHTFNoYWRlcjtcclxubGV0IHByb2dyYW0gPSBHTEhlbHBlci5jcmVhdGVQcm9ncmFtKCBnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciApIGFzIFdlYkdMUHJvZ3JhbTtcclxuXHJcbi8vIENyZWF0ZSBHZW9tZXRyeVxyXG5sZXQgZ2VvbWV0cnkgPSBHZW9tZXRyeS5mcm9tRGVzYyggR2VvbWV0cnlGYWN0b3J5LkN1YmUoKSApO1xyXG4vLyBDcmVhdGUgT2JqZWN0M0RcclxubGV0IG9iaiA9IG5ldyBPYmplY3QzRCggZ2VvbWV0cnkgKTtcclxub2JqLnNldFNoYWRlcnMoIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIgKTtcclxub2JqLnNldFByb2dyYW0oIHByb2dyYW0gKTtcclxuXHJcbi8vIENyZWF0ZSBwZXJzcGVjdGl2ZSBtYXRyaXhcclxubGV0IHBlcnNwZWN0aXZlTWF0cml4ID0gR0xNYXRyaXguUGVyc3BlY3RpdmUoXHJcbiAgICA0NSAqIE1hdGguUEkgLyAxODAsXHJcbiAgICBnbC5jYW52YXMuY2xpZW50V2lkdGggLyBnbC5jYW52YXMuY2xpZW50SGVpZ2h0LFxyXG4gICAgMC4xLFxyXG4gICAgNTAwXHJcbik7XHJcbi8vIENyZWF0ZSBzY2VuZVxyXG5sZXQgc2NlbmUgPSBuZXcgU2NlbmUoIGdsICk7XHJcbnNjZW5lLnNldE1hdHJpeCggcGVyc3BlY3RpdmVNYXRyaXggKTtcclxuc2NlbmUuYWRkT2JqZWN0KCBvYmogKTtcclxuXHJcbi8vIENyZWF0ZSByZW5kZXJlclxyXG4vL2xldCByZW5kZXJlciA9IG5ldyBSZW5kZXJlciggc2NlbmUgKTtcclxuLy9yZW5kZXIoKTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlcigpe1xyXG4gICAgc2NlbmUuZHJhdygpO1xyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByZW5kZXIgKTtcclxufVxyXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJlbmRlciApO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8qXHJcblxyXG52YXIgYnVmZmVycyA9IG5ldyBBcnJheTxXZWJHTEJ1ZmZlcj4oIDMgKTtcclxuXHJcbmxldCBtYXRyaXhJZDogV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbmxldCBjb2xvcklkOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxubGV0IHBvc2l0aW9uSWQ6IG51bWJlcjtcclxuXHJcbmxldCBwcm9ncmFtOiBXZWJHTFByb2dyYW07XHJcblxyXG5pZiggZ2wgKXtcclxuXHJcbiAgICAvLyBnZXQgQ2FudmFzIEluZm9cclxuICAgIGxldCBjYW52YXNfd2lkdGggPSBnbC5jYW52YXMud2lkdGg7XHJcbiAgICBsZXQgY2FudmFzX2hlaWdodCA9IGdsLmNhbnZhcy5oZWlnaHQ7XHJcblxyXG4gICAgLy9sZXQgdmVydGV4U2hhZGVyU291cmNlID0gXCJcIjtcclxuICAgIC8vbGV0IGZyYWdtZW50U2hhZGVyU291cmNlID0gXCJcIjtcclxuXHJcbiAgICBsZXQgdmVydGV4U2hhZGVyID0gR0xIZWxwZXIuY3JlYXRlU2hhZGVyKCBnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlICkgYXMgV2ViR0xTaGFkZXI7XHJcbiAgICBsZXQgZnJhZ21lbnRTaGFkZXIgPSBHTEhlbHBlci5jcmVhdGVTaGFkZXIoIGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlICkgYXMgV2ViR0xTaGFkZXI7XHJcblxyXG4gICAgcHJvZ3JhbSA9IEdMSGVscGVyLmNyZWF0ZVByb2dyYW0oIGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyICkgYXMgV2ViR0xQcm9ncmFtO1xyXG5cclxuICAgIC8vIEdldCBWZXJ0ZXggRGF0YSBQb2ludGVyXHJcbiAgICBwb3NpdGlvbklkID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oIHByb2dyYW0sICdhX3Bvc2l0aW9uJyApO1xyXG5cclxuICAgIC8vIEdldCBNYXRyaXggJiBDb2xvciBEYXRhIFBvaW50ZXJcclxuICAgIG1hdHJpeElkID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKCBwcm9ncmFtLCAndV9tYXRyaXgnICkgYXMgV2ViR0xVbmlmb3JtTG9jYXRpb247XHJcbiAgICBjb2xvcklkID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKCBwcm9ncmFtLCAndV9jb2xvcicgKSBhcyBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcclxuXHJcbiAgICBsZXQgY3ViZURhdGEgPSBHZW9tZXRyeUZhY3RvcnkuQ3ViZSgpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBCdWZmZXIgJiBWQU8gZm9yIFZlcnRleCBEYXRhXHJcbiAgICBsZXQgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoIGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIgKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoIGdsLkFSUkFZX0JVRkZFUiwgY3ViZURhdGEudmVydGljZXMsIGdsLlNUQVRJQ19EUkFXICk7XHJcblxyXG4gICAgbGV0IGluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIgKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBjdWJlRGF0YS5pbmRpY2VzLCBnbC5TVEFUSUNfRFJBVyApO1xyXG5cclxuICAgIGJ1ZmZlcnMgPSBbXHJcbiAgICAgICAgcG9zaXRpb25CdWZmZXIgYXMgV2ViR0xCdWZmZXIsXHJcbiAgICAgICAgaW5kZXhCdWZmZXIgYXMgV2ViR0xCdWZmZXJcclxuICAgIF07XHJcblxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCByZW5kZXIgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1NjZW5lKCBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dCApe1xyXG4gICAgZ2wuY2xlYXJDb2xvciggMC4wLCAwLjAsIDAuMCwgMS4wICk7XHJcbiAgICBnbC5jbGVhckRlcHRoKCAxLjAgKTtcclxuICAgIGdsLmVuYWJsZSggZ2wuREVQVEhfVEVTVCApO1xyXG4gICAgZ2wuZGVwdGhGdW5jKCBnbC5MRVFVQUwgKTtcclxuXHJcbiAgICBnbC5jbGVhciggZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQgKTtcclxuXHJcbiAgICBsZXQgY29tcG9uZW50cyA9IDQ7XHJcbiAgICBsZXQgdHlwZSA9IGdsLkZMT0FUO1xyXG4gICAgbGV0IG5vcm1hbGl6ZSA9IGZhbHNlO1xyXG4gICAgbGV0IHN0cmlkZSA9IDA7XHJcbiAgICBsZXQgb2Zmc2V0ID0gMDtcclxuICAgIGdsLmJpbmRCdWZmZXIoIGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyc1sgMCBdICk7XHJcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKCBcclxuICAgICAgICBwb3NpdGlvbklkLFxyXG4gICAgICAgIGNvbXBvbmVudHMsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBub3JtYWxpemUsXHJcbiAgICAgICAgc3RyaWRlLFxyXG4gICAgICAgIG9mZnNldCBcclxuICAgICk7XHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSggcG9zaXRpb25JZCApO1xyXG5cclxuICAgIGdsLmJpbmRCdWZmZXIoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBidWZmZXJzWyAxIF0gKTtcclxuXHJcbiAgICBnbC51c2VQcm9ncmFtKCBwcm9ncmFtICk7XHJcblxyXG4gICAgZ2wudW5pZm9ybU1hdHJpeDRmdiggXHJcbiAgICAgICAgbWF0cml4SWQsXHJcbiAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgR0xNYXRyaXguUGVyc3BlY3RpdmUoIDQ1ICogTWF0aC5QSSAvIDE4MCwgZ2wuY2FudmFzLndpZHRoIC8gZ2wuY2FudmFzLmhlaWdodCwgMSwgNTAwICkuZ2V0QnVmZmVyKCkgXHJcbiAgICApOyBcclxuICAgIGdsLnVuaWZvcm00ZnYoXHJcbiAgICAgICAgY29sb3JJZCxcclxuICAgICAgICBuZXcgRmxvYXQzMkFycmF5KFsgMS4wLDAuMCwwLjAsMS4wIF0pXHJcbiAgICApO1xyXG5cclxuICAgIHtcclxuICAgIGxldCB2ZXJ0ZXhDb3VudCA9IDM2O1xyXG4gICAgbGV0IHR5cGUgPSBnbC5VTlNJR05FRF9TSE9SVDtcclxuICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgZ2wuZHJhd0VsZW1lbnRzKCBnbC5UUklBTkdMRVMsIHZlcnRleENvdW50LCB0eXBlLCBvZmZzZXQgKTtcclxuICAgIH1cclxufVxyXG5cclxubGV0IHRoZW4gPSAwO1xyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCApe1xyXG4gICAgZHJhd1NjZW5lKCBnbCBhcyBXZWJHTDJSZW5kZXJpbmdDb250ZXh0ICk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHJlbmRlciApO1xyXG59XHJcblxyXG4qL1xyXG4iLCJleHBvcnQgY2xhc3MgR0xIZWxwZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlU2hhZGVyKCBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dCwgdHlwZTogbnVtYmVyLCBzb3VyY2U6IHN0cmluZyApIHtcclxuICAgICAgICBsZXQgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKCB0eXBlICkgYXMgV2ViR0xTaGFkZXI7XHJcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKCBzaGFkZXIsIHNvdXJjZSApO1xyXG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoIHNoYWRlciApO1xyXG4gICAgICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKCBzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTICk7XHJcbiAgICAgICAgaWYoIHN1Y2Nlc3MgKVxyXG4gICAgICAgICAgICByZXR1cm4gc2hhZGVyO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyggZ2wuZ2V0U2hhZGVySW5mb0xvZyggc2hhZGVyICkgKTtcclxuICAgICAgICBnbC5kZWxldGVTaGFkZXIoIHNoYWRlciApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlUHJvZ3JhbSggZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQsIHZlcnRleFNoYWRlcjogV2ViR0xTaGFkZXIsIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlciApe1xyXG4gICAgICAgIGxldCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpIGFzIFdlYkdMUHJvZ3JhbTtcclxuICAgICAgICBnbC5hdHRhY2hTaGFkZXIoIHByb2dyYW0sIHZlcnRleFNoYWRlciApO1xyXG4gICAgICAgIGdsLmF0dGFjaFNoYWRlciggcHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIgKTtcclxuICAgICAgICBnbC5saW5rUHJvZ3JhbSggcHJvZ3JhbSApO1xyXG4gICAgICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlciggcHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMgKTtcclxuICAgICAgICBpZiggc3VjY2VzcyApXHJcbiAgICAgICAgICAgIHJldHVybiBwcm9ncmFtO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyggZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coIHByb2dyYW0gKSApO1xyXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0oIHByb2dyYW0gKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IE1hdHJpeDQgfSBmcm9tICcuLi9NYXRoL01hdHJpeDQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdMTWF0cml4IHtcclxuXHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9jYW1lcmFzL1BlcnNwZWN0aXZlQ2FtZXJhLmpzXHJcbiAgICBwdWJsaWMgc3RhdGljIFBlcnNwZWN0aXZlKCBmb3Y6IG51bWJlciwgYXNwZWN0OiBudW1iZXIsIG46IG51bWJlciwgZjogbnVtYmVyICl7XHJcbiAgICAgICAgdmFyIG5lYXIgPSBuO1xyXG4gICAgICAgIHZhciBmYXIgPSBmO1xyXG4gICAgICAgIHZhciB0b3AgPSBuZWFyICogTWF0aC50YW4oIE1hdGguUEkgLyAxODAgKiAwLjUgKiBmb3YgKTtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMiAqIHRvcDtcclxuICAgICAgICB2YXIgd2lkdGggPSBhc3BlY3QgKiBoZWlnaHQ7XHJcbiAgICAgICAgdmFyIGxlZnQgPSAtMC41ICogd2lkdGg7XHJcbiAgICAgICAgdmFyIHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xyXG4gICAgICAgIHZhciBib3R0b20gPSB0b3AgLSBoZWlnaHQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHggPSAyICogbmVhciAvICggcmlnaHQgLSBsZWZ0ICk7XHJcbiAgICAgICAgdmFyIHkgPSAyICogbmVhciAvICggdG9wIC0gYm90dG9tICk7XHJcblxyXG4gICAgICAgIHZhciBhID0gKCByaWdodCArIGxlZnQgKSAvICggcmlnaHQgLSBsZWZ0ICk7XHJcbiAgICAgICAgdmFyIGIgPSAoIHRvcCArIGJvdHRvbSApIC8gKCB0b3AgLSBib3R0b20gKTtcclxuICAgICAgICB2YXIgYyA9IC0oIGZhciArIG5lYXIgKSAvICggZmFyIC0gbmVhciApO1xyXG4gICAgICAgIHZhciBkID0gLTIgKiBmYXIgKiBuZWFyIC8gKCBmYXIgLSBuZWFyICk7XHJcblxyXG4gICAgICAgIGxldCBhcnIgPSBbXHJcbiAgICAgICAgICAgIHgsMCwwLDAsXHJcbiAgICAgICAgICAgIDAseSwwLDAsXHJcbiAgICAgICAgICAgIGEsYixjLC0xLFxyXG4gICAgICAgICAgICAwLDAsZCwwXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgbGV0IG0gPSBuZXcgTWF0cml4NCggYXJyICk7XHJcbiAgICAgICAgcmV0dXJuIG07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBDYW1lcmEoICl7XHJcblxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFZlY3RvcjQge1xyXG5cclxuICAgIHB1YmxpYyBOVU1fT0ZfRUxFTUVOVFMgPSA0O1xyXG5cclxuICAgIHByaXZhdGUgYXJyOiBGbG9hdDMyQXJyYXk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoIHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIsIHc6IG51bWJlciApe1xyXG4gICAgICAgIHRoaXMuYXJyID0gbmV3IEZsb2F0MzJBcnJheSggNCApO1xyXG4gICAgICAgIHRoaXMuYXJyWyAwIF0gPSB4O1xyXG4gICAgICAgIHRoaXMuYXJyWyAxIF0gPSB5O1xyXG4gICAgICAgIHRoaXMuYXJyWyAyIF0gPSB6O1xyXG4gICAgICAgIHRoaXMuYXJyWyAzIF0gPSB3O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldHRlclxyXG4gICAgcHVibGljIGdldFgoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJbIDAgXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGdldFkoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hcnJbIDEgXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Wigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFyclsgMiBdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyWyAzIF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCggaTogbnVtYmVyICl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyWyBpIF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJ1ZmZlcigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFycjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXR0ZXJcclxuICAgIHB1YmxpYyBzZXRYKCB2OiBudW1iZXIgKXtcclxuICAgICAgICB0aGlzLmFyclsgMCBdID0gdjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0WSggdjogbnVtYmVyICl7XHJcbiAgICAgICAgdGhpcy5hcnJbIDEgXSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFooIHY6IG51bWJlciApe1xyXG4gICAgICAgIHRoaXMuYXJyWyAyIF0gPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRXKCB2OiBudW1iZXIgKXtcclxuICAgICAgICB0aGlzLmFyclsgMyBdID0gdjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJzaW9uXHJcbiAgICBwdWJsaWMgdG9BcnJheSgpe1xyXG4gICAgICAgIHJldHVybiBbIHRoaXMuYXJyWyAwIF0sIHRoaXMuYXJyWyAxIF0sIHRoaXMuYXJyWyAyIF0sIHRoaXMuYXJyWyAzIF0gXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYXRoXHJcbiAgICBwdWJsaWMgYWRkKCB2OiBWZWN0b3I0ICl7XHJcbiAgICAgICAgdGhpcy5hcnJbIDAgXSArPSB2LmdldFgoKTtcclxuICAgICAgICB0aGlzLmFyclsgMSBdICs9IHYuZ2V0WSgpO1xyXG4gICAgICAgIHRoaXMuYXJyWyAyIF0gKz0gdi5nZXRaKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG11bHRpcGx5U2NhbGFyKCBzOiBudW1iZXIgKXtcclxuICAgICAgICB0aGlzLmFyclsgMCBdICo9IHM7XHJcbiAgICAgICAgdGhpcy5hcnJbIDEgXSAqPSBzO1xyXG4gICAgICAgIHRoaXMuYXJyWyAyIF0gKj0gcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbm9ybWFsaXplKCl7XHJcbiAgICAgICAgbGV0IGwgPSAwO1xyXG4gICAgICAgIGZvciggbGV0IGkgPSAwOyBpIDwgMyA7IGkrKyApXHJcbiAgICAgICAgICAgIGwgPSBsICsgTWF0aC5wb3coIHRoaXMuZ2V0KCBpICksIDIgKTtcclxuICAgICAgICBsID0gTWF0aC5zcXJ0KCBsICk7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBseVNjYWxhciggMSAvIGwgKTsgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHZW9tZXRyeURlc2NyaXB0aW9uIH0gZnJvbSBcIi4uLy4uL0ludGVyZmFjZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHZW9tZXRyeUZhY3Rvcnkge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgUGxhbmUoKTogR2VvbWV0cnlEZXNjcmlwdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmVydGljZXM6IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgICAgICAgICAgICAgLTAuNSwtMC41LDAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjUsLTAuNSwwLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC41LDAuNSwwLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgLTAuNSwwLjUsMC41LDEuMCxcclxuICAgICAgICAgICAgXSksXHJcbiAgICAgICAgICAgIG5vcm1hbGVzOiBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgICAgICAgIDAuMCwwLjAsLTEuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsMC4wLC0xLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLDAuMCwtMS4wLDEuMCxcclxuICAgICAgICAgICAgICAgIDAuMCwwLjAsLTEuMCwxLjBcclxuICAgICAgICAgICAgXSksXHJcbiAgICAgICAgICAgIGluZGljZXM6IG5ldyBVaW50MTZBcnJheShbXHJcbiAgICAgICAgICAgICAgICAwLDEsMiwgICAgICBcclxuICAgICAgICAgICAgICAgIDAsMiwzXHJcbiAgICAgICAgICAgIF0pXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xfQVBJL1R1dG9yaWFsL0NyZWF0aW5nXzNEX29iamVjdHNfdXNpbmdfV2ViR0xcclxuICAgIHB1YmxpYyBzdGF0aWMgQ3ViZSgpOiBHZW9tZXRyeURlc2NyaXB0aW9uIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB2ZXJ0aWNlczogbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAgICAgICAgICAgICAvLyBGcm9udFxyXG4gICAgICAgICAgICAgICAgLTAuNSwtMC41LDAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjUsLTAuNSwwLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC41LDAuNSwwLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgLTAuNSwwLjUsMC41LDEuMCxcclxuICAgICAgICAgICAgICAgIC8vIEJhY2tcclxuICAgICAgICAgICAgICAgIC0wLjUsLTAuNSwtMC41LDEuMCxcclxuICAgICAgICAgICAgICAgIC0wLjUsMC41LC0wLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC41LDAuNSwtMC41LDEuMCxcclxuICAgICAgICAgICAgICAgIDAuNSwtMC41LC0wLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgLy8gVG9wXHJcbiAgICAgICAgICAgICAgICAtMC41LDAuNSwtMC41LDEuMCxcclxuICAgICAgICAgICAgICAgIC0wLjUsMC41LDAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjUsMC41LDAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjUsMC41LC0wLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgLy8gQm90dG9tXHJcbiAgICAgICAgICAgICAgICAtMC41LC0wLjUsLTAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjUsLTAuNSwtMC41LDEuMCxcclxuICAgICAgICAgICAgICAgIDAuNSwtMC41LDAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAtMC41LC0wLjUsMC41LDEuMCxcclxuICAgICAgICAgICAgICAgIC8vIFJpZ2h0XHJcbiAgICAgICAgICAgICAgICAwLjUsLTAuNSwtMC41LDEuMCxcclxuICAgICAgICAgICAgICAgIDAuNSwwLjUsLTAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjUsMC41LDAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjUsLTAuNSwwLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgLy8gTGVmdFxyXG4gICAgICAgICAgICAgICAgLTAuNSwtMC41LC0wLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgLTAuNSwtMC41LDAuNSwxLjAsXHJcbiAgICAgICAgICAgICAgICAtMC41LDAuNSwwLjUsMS4wLFxyXG4gICAgICAgICAgICAgICAgLTAuNSwwLjUsLTAuNSwxLjBcclxuICAgICAgICAgICAgXSksXHJcbiAgICAgICAgICAgIG5vcm1hbGVzOiBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgICAgICAgIC8vIEZyb250XHJcbiAgICAgICAgICAgICAgICAwLjAsMC4wLC0xLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLDAuMCwtMS4wLDEuMCxcclxuICAgICAgICAgICAgICAgIDAuMCwwLjAsLTEuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsMC4wLC0xLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgLy8gQmFja1xyXG4gICAgICAgICAgICAgICAgMC4wLDAuMCwxLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLDAuMCwxLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLDAuMCwxLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLDAuMCwxLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgLy8gVG9wXHJcbiAgICAgICAgICAgICAgICAwLjAsMS4wLDAuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsMS4wLDAuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsMS4wLDAuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsMS4wLDAuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAvLyBCb3R0b21cclxuICAgICAgICAgICAgICAgIDAuMCwtMS4wLDAuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsLTEuMCwwLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLC0xLjAsMC4wLDEuMCxcclxuICAgICAgICAgICAgICAgIDAuMCwtMS4wLDAuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAvLyBSaWdodFxyXG4gICAgICAgICAgICAgICAgMS4wLDAuMCwwLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLDAuMCwwLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLDAuMCwwLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLDAuMCwwLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgLy8gTGVmdFxyXG4gICAgICAgICAgICAgICAgLTEuMCwwLjAsMC4wLDEuMCxcclxuICAgICAgICAgICAgICAgIC0xLjAsMC4wLDAuMCwxLjAsXHJcbiAgICAgICAgICAgICAgICAtMS4wLDAuMCwwLjAsMS4wLFxyXG4gICAgICAgICAgICAgICAgLTEuMCwwLjAsMC4wLDEuMFxyXG4gICAgICAgICAgICBdKSxcclxuICAgICAgICAgICAgaW5kaWNlczogbmV3IFVpbnQxNkFycmF5KFtcclxuICAgICAgICAgICAgICAgIC8vIEZyb250XHJcbiAgICAgICAgICAgICAgICAwLDEsMiwgICAgICBcclxuICAgICAgICAgICAgICAgIDAsMiwzLFxyXG4gICAgICAgICAgICAgICAgLy8gQmFja1xyXG4gICAgICAgICAgICAgICAgNCw1LDYsICAgICAgXHJcbiAgICAgICAgICAgICAgICA0LDYsNyxcclxuICAgICAgICAgICAgICAgIC8vIFRvcFxyXG4gICAgICAgICAgICAgICAgOCw5LDEwLCAgICBcclxuICAgICAgICAgICAgICAgIDgsMTAsMTEsXHJcbiAgICAgICAgICAgICAgICAvLyBCb3R0b21cclxuICAgICAgICAgICAgICAgIDEyLDEzLDE0LCAgIFxyXG4gICAgICAgICAgICAgICAgMTIsMTQsMTUsXHJcbiAgICAgICAgICAgICAgICAvLyBSaWdodFxyXG4gICAgICAgICAgICAgICAgMTYsMTcsMTgsICAgXHJcbiAgICAgICAgICAgICAgICAxNiwxOCwxOSxcclxuICAgICAgICAgICAgICAgIC8vIExlZnRcclxuICAgICAgICAgICAgICAgIDIwLDIxLDIyLCAgIFxyXG4gICAgICAgICAgICAgICAgMjAsMjIsMjNcclxuICAgICAgICAgICAgXSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4vR2VvbWV0cnknO1xyXG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL01hdGgvTWF0cml4NFwiO1xyXG5pbXBvcnQgeyBVVUlEIH0gZnJvbSAnLi4vRGF0YS9VVUlEJztcclxuaW1wb3J0IHsgTGlzdCB9IGZyb20gJy4uL0RhdGEvTGlzdCc7XHJcblxyXG5leHBvcnQgY2xhc3MgT2JqZWN0M0Qge1xyXG5cclxuICAgIC8vIElkZW50aWZpZXJcclxuICAgIHByaXZhdGUgaWQ6IHN0cmluZztcclxuXHJcbiAgICAvLyBSZWxhdGlvbnNoaXBcclxuICAgIHByaXZhdGUgY2hpbGRyZW46IExpc3Q8T2JqZWN0M0Q+O1xyXG4gICAgcHJpdmF0ZSBwYXJlbnQ6IE9iamVjdDNEIHwgbnVsbDtcclxuXHJcbiAgICAvLyBHZW9tZXRyeVxyXG4gICAgcHJpdmF0ZSBnZW9tZXRyeTogR2VvbWV0cnk7XHJcblxyXG4gICAgLy8gVHJhbnNmb3JtYXRpb25cclxuICAgIHByaXZhdGUgbWF0cml4OiBNYXRyaXg0O1xyXG5cclxuICAgIC8vIFNoYWRlcnNcclxuICAgIHByaXZhdGUgdmVydGV4U2hhZGVyOiBXZWJHTFNoYWRlciB8IG51bGw7XHJcbiAgICBwcml2YXRlIGZyYWdtZW50U2hhZGVyOiBXZWJHTFNoYWRlciB8IG51bGw7XHJcbiAgICBwcml2YXRlIHByb2dyYW06IFdlYkdMUHJvZ3JhbSB8IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBhdHRyaWJ1dGVMb2NhdGlvbnM6IEFycmF5PG51bWJlcj47XHJcbiAgICBwcml2YXRlIHVuaWZvcm1Mb2NhdGlvbnM6IEFycmF5PFdlYkdMVW5pZm9ybUxvY2F0aW9uPjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggZzogR2VvbWV0cnkgKXtcclxuICAgICAgICB0aGlzLmlkID0gVVVJRC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gZztcclxuICAgICAgICB0aGlzLm1hdHJpeCA9IE1hdHJpeDQuaWRlbnRpdHkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG5ldyBMaXN0PE9iamVjdDNEPigpO1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy52ZXJ0ZXhTaGFkZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZnJhZ21lbnRTaGFkZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmF0dHJpYnV0ZUxvY2F0aW9ucyA9IG5ldyBBcnJheTxudW1iZXI+KCk7XHJcbiAgICAgICAgdGhpcy51bmlmb3JtTG9jYXRpb25zID0gbmV3IEFycmF5PFdlYkdMVW5pZm9ybUxvY2F0aW9uPigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldHRlciAmIFNldHRlclxyXG4gICAgcHVibGljIGdldElkKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEdlb21ldHJ5KCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEdlb21ldHJ5KCBnZW86IEdlb21ldHJ5ICl7XHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlbztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TWF0cml4KCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRNYXRyaXgoIG06IE1hdHJpeDQgKXtcclxuICAgICAgICB0aGlzLm1hdHJpeCA9IG07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFBhcmVudCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0UGFyZW50KCBwYXJlbnQ6IE9iamVjdDNEICl7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENoaWxkcmVuKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW47XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZENoaWxkKCBjaGlsZDogT2JqZWN0M0QgKXtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goIGNoaWxkICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUNoaWxkKCBpZGVudGlmaWVyOiBzdHJpbmcgKXtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUJ5SWRlbnRpZmllciggaWRlbnRpZmllciApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTaGFkZXJzKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmVydGV4U2hhZGVyOiB0aGlzLnZlcnRleFNoYWRlcixcclxuICAgICAgICAgICAgZnJhZ21lbnRTaGFkZXI6IHRoaXMuZnJhZ21lbnRTaGFkZXJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTaGFkZXJzKCB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLCBmcmFnbWVudFNoYWRlcjogV2ViR0xTaGFkZXIgKXtcclxuICAgICAgICB0aGlzLnZlcnRleFNoYWRlciA9IHZlcnRleFNoYWRlcjtcclxuICAgICAgICB0aGlzLmZyYWdtZW50U2hhZGVyID0gZnJhZ21lbnRTaGFkZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFByb2dyYW0oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmFtO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRQcm9ncmFtKCBwcm9ncmFtOiBXZWJHTFByb2dyYW0gKXtcclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdHRyaWJ1dGVMb2NhdGlvbnMoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVMb2NhdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFVuaWZvcm1Mb2NhdGlvbnMoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3JtTG9jYXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbmRlcmluZ1xyXG4gICAgcHVibGljIHNldHVwKCBnbDogV2ViR0wyUmVuZGVyaW5nQ29udGV4dCApe1xyXG5cclxuICAgICAgICAvLyBHZXQgVmVydGV4IEF0dHJpYnV0ZVxyXG4gICAgICAgIHRoaXMuYXR0cmlidXRlTG9jYXRpb25zLnB1c2goIGdsLmdldEF0dHJpYkxvY2F0aW9uKCB0aGlzLnByb2dyYW0gYXMgV2ViR0xQcm9ncmFtLCAndmVydGV4JyApICk7XHJcbiAgICAgICAgLy8gR2V0IFVuaWZvcm1zXHJcbiAgICAgICAgdGhpcy51bmlmb3JtTG9jYXRpb25zLnB1c2goIGdsLmdldFVuaWZvcm1Mb2NhdGlvbiggdGhpcy5wcm9ncmFtIGFzIFdlYkdMUHJvZ3JhbSwgJ3VfcGVyc3BlY3RpdmUnICkgYXMgV2ViR0xVbmlmb3JtTG9jYXRpb24gKTtcclxuICAgICAgICB0aGlzLnVuaWZvcm1Mb2NhdGlvbnMucHVzaCggZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKCB0aGlzLnByb2dyYW0gYXMgV2ViR0xQcm9ncmFtLCAndV9tb2RlbHZpZXcnICkgYXMgV2ViR0xVbmlmb3JtTG9jYXRpb24gKTtcclxuICAgICAgICB0aGlzLnVuaWZvcm1Mb2NhdGlvbnMucHVzaCggZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKCB0aGlzLnByb2dyYW0gYXMgV2ViR0xQcm9ncmFtLCAndV9jb2xvcicgKSBhcyBXZWJHTFVuaWZvcm1Mb2NhdGlvbiApO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgQnVmZmVyc1xyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuY3JlYXRlQnVmZmVycyggZ2wgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKCAoIHYsIGkgKSA9PiB7XHJcbiAgICAgICAgICAgIHYuc2V0dXAoIGdsICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgVVVJRCB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKXtcclxuICAgICAgICBmdW5jdGlvbiBzNCgpe1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMClcclxuICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgICAgICAuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArXHJcbiAgICAgICAgICAgIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBCdWZmZXJPYmplY3QsIEdlb21ldHJ5RGVzY3JpcHRpb24gfSBmcm9tIFwiLi4vSW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgeyBydW5JblRoaXNDb250ZXh0IH0gZnJvbSBcInZtXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2VvbWV0cnkge1xyXG5cclxuICAgIC8vIFZlY3RvciBEYXRhXHJcbiAgICBwcml2YXRlIHZlcnRpY2VzOiBGbG9hdDMyQXJyYXk7XHJcbiAgICBwcml2YXRlIGNvbG9yczogVWludDhBcnJheTtcclxuICAgIHByaXZhdGUgbm9ybWFsZXM6IEZsb2F0MzJBcnJheTtcclxuICAgIHByaXZhdGUgaW5kaWNlczogVWludDE2QXJyYXk7XHJcblxyXG4gICAgLy8gR0wgRGF0YVxyXG4gICAgcHJpdmF0ZSBidWZmZXJzQ3JlYXRlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgYnVmZmVyczogQnVmZmVyT2JqZWN0O1xyXG5cclxuICAgIC8vIEluZm9cclxuICAgIHByaXZhdGUgZWxlbWVudENvdW50OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSggMCApO1xyXG4gICAgICAgIHRoaXMuY29sb3JzID0gbmV3IFVpbnQ4QXJyYXkoIDAgKTtcclxuICAgICAgICB0aGlzLm5vcm1hbGVzID0gbmV3IEZsb2F0MzJBcnJheSggMCApO1xyXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSggMCApO1xyXG5cclxuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSB7XHJcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlcjogbnVsbCxcclxuICAgICAgICAgICAgY29sb3JCdWZmZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyOiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmJ1ZmZlcnNDcmVhdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudENvdW50ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXR0ZXIgJiBTZXR0ZXJcclxuICAgIHB1YmxpYyBnZXRWZXJ0aWNlcygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXROb3JtYWxlcygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGVzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbmRpY2VzKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kaWNlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnVmZmVycygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZlcnRpY2VzKCBhcnI6IEZsb2F0MzJBcnJheSApe1xyXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBhcnI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldE5vcm1hbGVzKCBhcnI6IEZsb2F0MzJBcnJheSApe1xyXG4gICAgICAgIHRoaXMubm9ybWFsZXMgPSBhcnI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEluZGljZXMoIGFycjogVWludDE2QXJyYXkgKXtcclxuICAgICAgICB0aGlzLmluZGljZXMgPSBhcnI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEJ1ZmZlcnMoIGJ1ZmZlcnM6IEJ1ZmZlck9iamVjdCApe1xyXG4gICAgICAgIHRoaXMuYnVmZmVycyA9IGJ1ZmZlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEVsZW1lbnRDb3VudCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHTFxyXG4gICAgcHVibGljIGNyZWF0ZUJ1ZmZlcnMoIGdsOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0ICl7XHJcbiAgICAgICAgaWYoIHRoaXMuYnVmZmVyc0NyZWF0ZWQgKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKCB0aGlzLnZlcnRpY2VzLmxlbmd0aCAhPT0gMCApe1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMudmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoIGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5idWZmZXJzLnZlcnRleEJ1ZmZlciApO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKCBnbC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGljZXMsIGdsLlNUQVRJQ19EUkFXICk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRDb3VudCA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIHRoaXMuaW5kaWNlcy5sZW5ndGggIT09IDAgKXtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJzLmluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoIGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLmJ1ZmZlcnMuaW5kZXhCdWZmZXIgKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSggZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kaWNlcywgZ2wuU1RBVElDX0RSQVcgKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudENvdW50ID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYnVmZmVyc0NyZWF0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN0YXRpY1xyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRGVzYyggZ2VvOiBHZW9tZXRyeURlc2NyaXB0aW9uICl7XHJcbiAgICAgICAgbGV0IGcgPSBuZXcgR2VvbWV0cnkoKTtcclxuICAgICAgICBnLnNldFZlcnRpY2VzKCBnZW8udmVydGljZXMgKTtcclxuICAgICAgICBnLnNldE5vcm1hbGVzKCBnZW8ubm9ybWFsZXMgKTtcclxuICAgICAgICBpZiggZ2VvLmluZGljZXMgKVxyXG4gICAgICAgICAgICBnLnNldEluZGljZXMoIGdlby5pbmRpY2VzICk7XHJcbiAgICAgICAgcmV0dXJuIGc7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gXCIuL09iamVjdDNEXCI7XHJcbmltcG9ydCB7IExpc3QgfSBmcm9tIFwiLi4vRGF0YS9MaXN0XCI7XHJcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vTWF0aC9NYXRyaXg0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2NlbmUge1xyXG5cclxuICAgIHByaXZhdGUgZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQ7XHJcbiAgICBwcml2YXRlIG9iamVjdHM6IExpc3Q8T2JqZWN0M0Q+O1xyXG4gICAgcHJpdmF0ZSBtYXRyaXg6IE1hdHJpeDQ7XHJcbiAgICBcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQgKXtcclxuICAgICAgICB0aGlzLmdsID0gZ2w7XHJcbiAgICAgICAgdGhpcy5vYmplY3RzID0gbmV3IExpc3Q8T2JqZWN0M0Q+KCk7XHJcbiAgICAgICAgdGhpcy5tYXRyaXggPSBNYXRyaXg0LmlkZW50aXR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1hdHJpeCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TWF0cml4KCBtOiBNYXRyaXg0ICl7XHJcbiAgICAgICAgdGhpcy5tYXRyaXggPSBtO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRPYmplY3RzKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0T2JqZWN0KCBpZGVudGlmaWVyOiBzdHJpbmcgKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RzLmdldEJ5SWRlbnRpZmllciggaWRlbnRpZmllciApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRPYmplY3QoIG9iajogT2JqZWN0M0QgKXtcclxuICAgICAgICB0aGlzLm9iamVjdHMucHVzaCggb2JqICk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKXtcclxuICAgICAgICAvLyBEcmF3IGV2ZXJ5IG9iamVjdCB0aGF0IGlzIGF2YWlsYWJsZVxyXG4gICAgICAgIHRoaXMub2JqZWN0cy5mb3JFYWNoKCAoIGl0ZW0sIGluZGV4ICkgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IGdsID0gdGhpcy5nbDtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCBnZW9tZXRyeVxyXG4gICAgICAgICAgICBsZXQgZ2VvbWV0cnkgPSBpdGVtLmdldEdlb21ldHJ5KCk7XHJcbiAgICAgICAgICAgIGdlb21ldHJ5LmNyZWF0ZUJ1ZmZlcnMoIGdsICk7XHJcbiAgICAgICAgICAgIC8vIEdldCBpbmZvcm1hdGlvbiBmcm9tIGdlb21ldHJ5XHJcbiAgICAgICAgICAgIGxldCBidWZmZXJzID0gZ2VvbWV0cnkuZ2V0QnVmZmVycygpO1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudENvdW50ID0gZ2VvbWV0cnkuZ2V0RWxlbWVudENvdW50KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBHZXQgYXR0cmlidXRlIGxvY2F0aW9uc1xyXG4gICAgICAgICAgICBsZXQgYXR0cmlidXRlTG9jYXRpb25zID0gaXRlbS5nZXRBdHRyaWJ1dGVMb2NhdGlvbnMoKTtcclxuICAgICAgICAgICAgLy8gR2V0IHVuaWZvcm0gbG9jYXRpb25zXHJcbiAgICAgICAgICAgIGxldCB1bmlmb3JtTG9jYXRpb25zID0gaXRlbS5nZXRVbmlmb3JtTG9jYXRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgcHJvZ3JhbSBcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbSggaXRlbS5nZXRQcm9ncmFtKCkgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNlbmQgdmVydGljZXMgdG8gc2hhZGVyXHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoIGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVycy52ZXJ0ZXhCdWZmZXIgKTtcclxuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUxvY2F0aW9uc1sgMCBdLFxyXG4gICAgICAgICAgICAgICAgNCxcclxuICAgICAgICAgICAgICAgIGdsLkZMT0FULFxyXG4gICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgMFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSggYXR0cmlidXRlTG9jYXRpb25zWyAwIF0gKVxyXG5cclxuICAgICAgICAgICAgLy8gU2VuZCBjb2xvcnMgdG8gc2hhZGVyXHJcbiAgICAgICAgICAgIC8vIHRiZFxyXG5cclxuICAgICAgICAgICAgLy8gU2VuZCBpbmRpY2VzIHRvIHNoYWRlclxyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKCBnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgYnVmZmVycy5pbmRleEJ1ZmZlciApO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHVuaWZvcm1zXHJcbiAgICAgICAgICAgIC8vIHBlcnNwZWN0aXZlIG1hdHJpeDogWyAwIF1cclxuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihcclxuICAgICAgICAgICAgICAgIHVuaWZvcm1Mb2NhdGlvbnNbIDAgXSxcclxuICAgICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRNYXRyaXgoKS5nZXRCdWZmZXIoKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAvLyBtb2RlbHZpZXcgbWF0cml4OiBbIDEgXVxyXG4gICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KFxyXG4gICAgICAgICAgICAgICAgdW5pZm9ybUxvY2F0aW9uc1sgMSBdLFxyXG4gICAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpdGVtLmdldE1hdHJpeCgpLmdldEJ1ZmZlcigpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIC8vIGNvbG9yIHZlY3RvciAtIHJlbW92ZWQgd2hlbiBjb2xvciBwZXIgdmVydGV4IGltcGxlbWVudGVkXHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYoXHJcbiAgICAgICAgICAgICAgICB1bmlmb3JtTG9jYXRpb25zWyAyIF0sXHJcbiAgICAgICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KFsgMS4wLDAuMCwwLjAsMS4wIF0pXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAvLyBEcmF3IHRoaXMgc2hpdFxyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoXHJcbiAgICAgICAgICAgICAgICBnbC5UUklBTkdMRVMsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Q291bnQsXHJcbiAgICAgICAgICAgICAgICBnbC5VTlNJR05FRF9TSE9SVCxcclxuICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IFwiI3ZlcnNpb24gMzAwIGVzXFxyXFxuXFxyXFxuaW4gdmVjNCB2ZXJ0ZXg7XFxyXFxudW5pZm9ybSBtYXQ0IHVfcGVyc3BlY3RpdmU7XFxyXFxudW5pZm9ybSBtYXQ0IHVfbW9kZWx2aWV3O1xcclxcblxcclxcbnZvaWQgbWFpbigpIHtcXHJcXG4gICAgZ2xfUG9zaXRpb24gPSB1X3BlcnNwZWN0aXZlICogdV9tb2RlbHZpZXcgKiB2ZXJ0ZXg7XFxyXFxufVwiIiwiZXhwb3J0IGRlZmF1bHQgXCIjdmVyc2lvbiAzMDAgZXNcXHJcXG5cXHJcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXHJcXG5cXHJcXG51bmlmb3JtIHZlYzQgdV9jb2xvcjtcXHJcXG5vdXQgdmVjNCBvdXRDb2xvcjtcXHJcXG5cXHJcXG52b2lkIG1haW4oKXtcXHJcXG4gICAgb3V0Q29sb3IgPSB1X2NvbG9yO1xcclxcbn1cIiJdLCJzb3VyY2VSb290IjoiIn0=